<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="grongier@intersystems.com" /><link rel="canonical" href="https://grongierisc.github.io/interoperability-embedded-python/getting-started/first-steps/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>First Steps - IoP (Interoperability On Python)</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "First Steps";
        var mkdocs_page_input_path = "getting-started/first-steps.md";
        var mkdocs_page_url = "/interoperability-embedded-python/getting-started/first-steps/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> IoP (Interoperability On Python)
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">First Steps</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#setting-up-the-virtual-environment">Setting Up the Virtual Environment</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#installing-required-packages">Installing Required Packages</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hello-world">Hello World</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#create-a-business-operation">Create a Business Operation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#import-this-business-operation-in-the-framework">Import this Business Operation in the framework</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#run-the-production-and-test-it">Run the production and test it</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../example/">Example</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../command-line/">Command Line</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">IoP (Interoperability On Python)</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Getting Started</li>
      <li class="breadcrumb-item active">First Steps</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="getting-started-with-interoperability-on-python">Getting Started with Interoperability On Python</h1>
<p>Welcome to the guide on getting started with Interoperability Embedded Python. This document will walk you through the initial steps to set up and begin using Python in your interoperability projects.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Before you begin, ensure you have the following:</p>
<ul>
<li>A working installation of InterSystems IRIS with Embedded Python configured</li>
<li>Basic knowledge of Python programming</li>
</ul>
<h3 id="setting-up-the-virtual-environment">Setting Up the Virtual Environment</h3>
<p>To begin, you will need to set up a virtual environment for your Python project. A virtual environment is a self-contained directory that contains a Python installation for a particular version of Python, as well as any additional packages you may need for your project.</p>
<p>To create a virtual environment, run the following command in your terminal:</p>
<pre><code class="language-bash">python -m venv .venv
</code></pre>
<p>This will create a new directory called <code>.venv</code> in your project directory, which will contain the Python interpreter and any packages you install.</p>
<p>Next, activate the virtual environment by running the following command:</p>
<p>For Unix or MacOS:</p>
<pre><code class="language-bash">source .venv/bin/activate
</code></pre>
<p>For Windows:</p>
<pre><code class="language-bash">.venv\Scripts\activate
</code></pre>
<p>You should now see the name of your virtual environment in your terminal prompt, indicating that the virtual environment is active.</p>
<h3 id="installing-required-packages">Installing Required Packages</h3>
<p>With your virtual environment activated, you can now install any required packages for your project. To install a package, use the <code>pip</code> command followed by the package name. For example, to install the <code>iris-pex-embedded-python</code> package, run the following command:</p>
<pre><code class="language-bash">pip install iris-pex-embedded-python
</code></pre>
<p>Init the application using the following command:</p>
<pre><code class="language-bash">iop --init
</code></pre>
<p>This will install the package and any dependencies it requires.</p>
<h2 id="hello-world">Hello World</h2>
<p>Now that you have set up your virtual environment and installed the required packages, you are ready to create your first Interoperability production using Python.</p>
<h3 id="create-a-business-operation">Create a Business Operation</h3>
<p>For this, we will create an <code>BusinessOperation</code> that will take a message as input and will return a message as output. In between, it will just print "Hello World" in the logs.</p>
<p>To do this, let's create a new folder named <code>hello_world</code>.</p>
<pre><code class="language-bash">mkdir hello_world
</code></pre>
<p>In this folder, create a new file named <code>bo.py</code>.</p>
<p>This file will contain the code of our business operation.</p>
<pre><code class="language-python">from iop import BusinessOperation

class MyBo(BusinessOperation):
    def on_message(self, request):
        self.log_info(&quot;Hello World&quot;)
</code></pre>
<p>Let's explain this code.</p>
<p>First, we import the <code>BusinessOperation</code> class from the <code>iop</code> module.</p>
<p>Then, we create a class named <code>MyBo</code> that inherits from <code>BusinessOperation</code>.</p>
<p>Finally, we override the <code>on_message</code> method. This method will be called when a message is received by the business operation.</p>
<h3 id="import-this-business-operation-in-the-framework">Import this Business Operation in the framework</h3>
<p>Now, we need to add this business operation to what we call a production.</p>
<p>To do this, we will create a new file in the <code>hello_world</code> folder, named <code>settings.py</code>.</p>
<p>Every project starts at it's root folder by a file named <code>settings.py</code>. </p>
<p>This file contains two main settings:</p>
<ul>
<li><code>CLASSES</code> : it contains the classes that will be used in the project.</li>
<li><code>PRODUCTIONS</code> : it contains the name of the production that will be used in the project.</li>
</ul>
<pre><code class="language-python">from hello_world.bo import MyBo

CLASSES = {
    &quot;MyIRIS.MyBo&quot;: MyBo
}

PRODUCTIONS = [
        {
            'MyIRIS.Production': {
                &quot;@TestingEnabled&quot;: &quot;true&quot;,
                &quot;Item&quot;: [
                    {
                        &quot;@Name&quot;: &quot;Instance.Of.MyBo&quot;,
                        &quot;@ClassName&quot;: &quot;MyIRIS.MyBo&quot;,
                    }
                ]
            }
        } 
    ]
</code></pre>
<p>In this file, we import our <code>MyBo</code> class named in iris <code>MyIRIS.MyBo</code>, and we add it to the <code>CLASSES</code> dictionnary.</p>
<p>Then, we add a new production to the <code>PRODUCTIONS</code> list. This production will contain our <code>MyBo</code> class instance named <code>Instance.Of.MyBo</code>.</p>
<p>With the <code>iop</code> command, we can now create the production in IRIS.</p>
<pre><code class="language-bash">iop --migrate /path/to/hello_world/settings.py
</code></pre>
<p>This command will create the production in IRIS and add the <code>MyBo</code> class to it.</p>
<h3 id="run-the-production-and-test-it">Run the production and test it</h3>
<p>Now that the production is created, we can run it and test it.</p>
<p>TODO add schema</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../installation/" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../example/" class="btn btn-neutral float-right" title="Example">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../installation/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../example/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
